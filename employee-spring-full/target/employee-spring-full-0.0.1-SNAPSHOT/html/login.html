<!DOCTYPE html>

<html lang="en">
  <head th:replace="snippets.html :: name_head"></head>

  <link rel="stylesheet" th:href="@{/static/signup.css}" />
  <body>
    <nav th:replace="snippets.html :: name_site_navbar"></nav>

    <script src="https://use.fontawesome.com/f59bcd8580.js"></script>
    <div class="container">
      <div class="row m-5 no-gutters shadow-lg">
        <div class="col-md-6 d-none d-md-block">
          <img
            th:src="@{/static/signup.jpg}"
            class="img-fluid"
            style="min-height: 100%"
          />
        </div>
        <div class="col-md-6 bg-white p-5">
          <h3 class="pb-3">Login</h3>
          <div class="form-style">
            <form method="POST" th:action="@{/session/login}">
              <div class="form-group pb-3">
                <input
                  type="email"
                  name="email"
                  placeholder="Email"
                  class="form-control"
                  id="exampleInputEmail1"
                  aria-describedby="emailHelp"
                />
              </div>
              <div class="form-group pb-3">
                <input
                  type="password"
                  name="password"
                  placeholder="Password"
                  class="form-control"
                  id="exampleInputPassword1"
                />
              </div>
              <div
                class="d-flex align-items-center justify-content-between"
              ></div>
              <div class="pb-2">
                <button
                  type="submit"
                  class="btn btn-dark w-100 font-weight-bold mt-2"
                >
                  Submit
                </button>
              </div>
            </form>
            <div class="pt-4 text-center">
              New User? <a th:href="@{/site/signup}">Signup</a>
            </div>
          </div>
          <br />
          <center>
            <div class="card-footer text-danger">[[${info.getMessage()}]]</div>
          </center>
        </div>
      </div>
    </div>

    <footer th:replace="snippets.html :: name_footer"></footer>

    <div id="supervisor-admin" hidden></div>
    <div th:switch="${info.getMessage()}" hidden>
      <div th:case="'Login Successful!'">
        <script>
          //find a div with id="supervisor-admin" and add true as it's text make it hidden using jquery
          $("<p>true</p>").appendTo("#supervisor-admin");
          console.log($("#supervisor-admin").text());
          if ($("#supervisor-admin").text() == "true")
            window.location.replace("http://localhost:9000/pos/ui/home");
        </script>
      </div>
    </div>
  </body>
</html>
